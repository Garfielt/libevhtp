<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Libevhtp: examples/test_vhost.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Libevhtp
   &#160;<span id="projectnumber">1.2.12-develop</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('test__vhost_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">test_vhost.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;<a class="el" href="evhtp_8h_source.html">evhtp.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for test_vhost.c:</div>
<div class="dyncontent">
<div class="center"><img src="test__vhost_8c__incl.png" border="0" usemap="#examples_2test__vhost_8c" alt=""/></div>
<map name="examples_2test__vhost_8c" id="examples_2test__vhost_8c">
<area shape="rect" id="node7" href="evhtp_8h.html" title="evhtp.h" alt="" coords="560,79,625,104"/>
<area shape="rect" id="node9" href="evthr_8h.html" title="evthr.h" alt="" coords="169,159,230,184"/>
<area shape="rect" id="node12" href="htparse_8h.html" title="htparse.h" alt="" coords="67,159,144,184"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8bbdb0dcfef7e89742613ed5f426309c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test__vhost_8c.html#a8bbdb0dcfef7e89742613ed5f426309c">testcb</a> (evhtp_request_t *req, void *a)</td></tr>
<tr class="separator:a8bbdb0dcfef7e89742613ed5f426309c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test__vhost_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8bbdb0dcfef7e89742613ed5f426309c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void testcb </td>
          <td>(</td>
          <td class="paramtype">evhtp_request_t *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="evhtp_8h.html#a137a73d703e70ec04a807668a5d523da">EVHTP_RES_OK</a>, and <a class="el" href="evhtp_8c.html#a207355af4b2d3e5211c4df0bbb8d195d">evhtp_send_reply()</a>.</p>

<p>Referenced by <a class="el" href="test__vhost_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;                                        {</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    evbuffer_add_reference(req-&gt;buffer_out, <span class="stringliteral">&quot;foobar&quot;</span>, 6, NULL, NULL);</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <a class="code" href="evhtp_8c.html#a207355af4b2d3e5211c4df0bbb8d195d">evhtp_send_reply</a>(req, <a class="code" href="evhtp_8h.html#a137a73d703e70ec04a807668a5d523da">EVHTP_RES_OK</a>);</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;}</div>
<div class="ttc" id="evhtp_8c_html_a207355af4b2d3e5211c4df0bbb8d195d"><div class="ttname"><a href="evhtp_8c.html#a207355af4b2d3e5211c4df0bbb8d195d">evhtp_send_reply</a></div><div class="ttdeci">void evhtp_send_reply(evhtp_request_t *request, evhtp_res code)</div><div class="ttdoc">generates all the right information for a reply to be sent to the client </div><div class="ttdef"><b>Definition:</b> evhtp.c:3046</div></div>
<div class="ttc" id="evhtp_8h_html_a137a73d703e70ec04a807668a5d523da"><div class="ttname"><a href="evhtp_8h.html#a137a73d703e70ec04a807668a5d523da">EVHTP_RES_OK</a></div><div class="ttdeci">#define EVHTP_RES_OK</div><div class="ttdef"><b>Definition:</b> evhtp.h:213</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="test__vhost_8c_a8bbdb0dcfef7e89742613ed5f426309c_cgraph.png" border="0" usemap="#test__vhost_8c_a8bbdb0dcfef7e89742613ed5f426309c_cgraph" alt=""/></div>
<map name="test__vhost_8c_a8bbdb0dcfef7e89742613ed5f426309c_cgraph" id="test__vhost_8c_a8bbdb0dcfef7e89742613ed5f426309c_cgraph">
<area shape="rect" id="node2" href="evhtp_8c.html#a207355af4b2d3e5211c4df0bbb8d195d" title="generates all the right information for a reply to be sent to the client " alt="" coords="110,625,237,651"/>
<area shape="rect" id="node3" href="evhtp_8c.html#a0fd9982ade86ed23ee41eadb33b0e3c1" title="_evhtp_create_reply" alt="" coords="316,304,458,329"/>
<area shape="rect" id="node18" href="evhtp_8c.html#ad8e05f912c12705d93c0a1aec125544a" title="free&#39;s all connection related resources, this will also call your request fini hook and request fini ..." alt="" coords="309,600,465,625"/>
<area shape="rect" id="node25" href="evhtp_8c.html#af0e521e1beb5c171441af8c7170d83b9" title="returns the underlying connections bufferevent " alt="" coords="296,649,477,675"/>
<area shape="rect" id="node26" href="evhtp_8c.html#ad90238a469b4289cf16c2aacc4763d4c" title="returns the underlying evhtp_connection_t structure from a request " alt="" coords="285,699,489,724"/>
<area shape="rect" id="node4" href="evhtp_8c.html#a25a957881c47ce6d3e8b6119d664e9b7" title="_evhtp_create_headers" alt="" coords="553,5,714,31"/>
<area shape="rect" id="node5" href="evhtp_8h.html#a8b553a92dea8df3d2a0eb987a8b2cd39" title="finds the value of a key in a evhtp_headers_t structure " alt="" coords="568,55,699,80"/>
<area shape="rect" id="node6" href="evhtp_8h.html#a503b047c0137763e0adaf635b7c664a8" title="creates a new evhtp_header_t key/val structure " alt="" coords="566,104,701,129"/>
<area shape="rect" id="node7" href="evhtp_8h.html#a45e5dd8e1166577254d6da73f4cf9fd1" title="adds an evhtp_header_t to the end of the evhtp_headers_t tailq " alt="" coords="539,153,728,179"/>
<area shape="rect" id="node8" href="evhtp__numtoa_8c.html#aef81286f525f97a5f761964f50599a63" title="based on the system architecture, convert a size_t number to a string. " alt="" coords="561,255,706,280"/>
<area shape="rect" id="node9" href="evhtp__numtoa_8c.html#a8cc234df8a9409d796e9fa426273c218" title="converts uint32_t value to string " alt="" coords="794,205,937,231"/>
<area shape="rect" id="node12" href="htparse_8c.html#ab34fb33769128cc477a6f9a5c0e2bc63" title="htparser_get_major" alt="" coords="565,304,702,329"/>
<area shape="rect" id="node13" href="htparse_8c.html#a70e8640f33ccec623fa8e1bdae8c693d" title="htparser_get_minor" alt="" coords="565,353,702,379"/>
<area shape="rect" id="node14" href="htparse_8c.html#ad931068e981eb54e6fc99ad7c62f104a" title="htparser_get_multipart" alt="" coords="556,403,711,428"/>
<area shape="rect" id="node15" href="htparse_8c.html#a40511e662043f9255ec3ef7376966c31" title="htparser_set_major" alt="" coords="565,452,702,477"/>
<area shape="rect" id="node16" href="htparse_8c.html#ab2ee1f6fd7456337e2e483bab9973413" title="htparser_set_minor" alt="" coords="565,501,702,527"/>
<area shape="rect" id="node17" href="evhtp_8c.html#ad41c784fc766dd3497fe564a88d7cb1f" title="status_code_to_str" alt="" coords="567,551,701,576"/>
<area shape="rect" id="node11" href="evhtp__numtoa_8c.html#a1dae3968a0cdd6586c0ebacf415e929e" title="convert uint64_t value to a string " alt="" coords="794,255,937,280"/>
<area shape="rect" id="node10" href="evhtp__numtoa_8c.html#ac884408acf9fb0963fcfcb572bb96fa4" title="strreverse" alt="" coords="1035,231,1116,256"/>
<area shape="rect" id="node19" href="evhtp_8c.html#ae405ab595637e4078a9a01821d3df580" title="runs the user&#45;definedhook called just prior to a connection being closed " alt="" coords="537,600,731,625"/>
<area shape="rect" id="node20" href="evhtp_8c.html#ac1b09ba3d872e8a0b93a60805996dae7" title="frees all data in an evhtp_request_t along with calling finished hooks " alt="" coords="562,649,705,675"/>
<area shape="rect" id="node21" href="evhtp_8c.html#ab82576a33f5888bec124961eaa86a9c0" title="runs the user&#45;defined hook called just prior to a request been free()&#39;d " alt="" coords="779,624,953,649"/>
<area shape="rect" id="node22" href="evhtp_8c.html#a4b730b06fe6a0093afb2f4f391e5455e" title="frees an overlay URI structure " alt="" coords="809,673,923,699"/>
<area shape="rect" id="node23" href="evhtp_8c.html#a2dfd994fb181a6efaf2c87716b05cd50" title="frees an authority structure " alt="" coords="1001,648,1151,673"/>
<area shape="rect" id="node24" href="evhtp_8c.html#a9ab2a6de89fce03b9543bdafa6f22db5" title="_evhtp_path_free" alt="" coords="1013,697,1138,723"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="test__vhost_8c_a8bbdb0dcfef7e89742613ed5f426309c_icgraph.png" border="0" usemap="#test__vhost_8c_a8bbdb0dcfef7e89742613ed5f426309c_icgraph" alt=""/></div>
<map name="test__vhost_8c_a8bbdb0dcfef7e89742613ed5f426309c_icgraph" id="test__vhost_8c_a8bbdb0dcfef7e89742613ed5f426309c_icgraph">
<area shape="rect" id="node2" href="test__vhost_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="110,5,160,31"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="evhtp_8c.html#af08f82623bd2ad6ad80db3138b8ca58f">evhtp_add_alias()</a>, <a class="el" href="evhtp_8c.html#a5662d4aa968e080bf1ee8b07d876829e">evhtp_add_vhost()</a>, <a class="el" href="evhtp_8c.html#a25b40b813f8a36cc383915b6ed3ec0ce">evhtp_bind_socket()</a>, <a class="el" href="evhtp_8c.html#a113ba6cd8ed817ac5e1988e8147c9358">evhtp_free()</a>, <a class="el" href="evhtp_8c.html#a97bbe491064943a8d5e0d3e7a937209b">evhtp_new()</a>, <a class="el" href="evhtp_8c.html#ad5bb4aac3d544eb8a102c530b3b45fba">evhtp_set_cb()</a>, <a class="el" href="evhtp_8c.html#afc778451d835c5a7e5929502d8413741">evhtp_ssl_init()</a>, <a class="el" href="evhtp_8c.html#ac4b2942f737cbd702277aa19f2d6538a">evhtp_unbind_socket()</a>, and <a class="el" href="test__vhost_8c.html#a8bbdb0dcfef7e89742613ed5f426309c">testcb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                             {</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <a class="code" href="evthr_8h.html#ac1a9bb265b995e58237889446894e944">evbase_t</a> * evbase = event_base_new();</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    evhtp_t  * evhtp  = <a class="code" href="evhtp_8c.html#a97bbe491064943a8d5e0d3e7a937209b">evhtp_new</a>(evbase, NULL);</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    evhtp_t  * v1     = <a class="code" href="evhtp_8c.html#a97bbe491064943a8d5e0d3e7a937209b">evhtp_new</a>(evbase, NULL);</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    evhtp_t  * v2     = <a class="code" href="evhtp_8c.html#a97bbe491064943a8d5e0d3e7a937209b">evhtp_new</a>(evbase, NULL);</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <a class="code" href="evhtp_8c.html#ad5bb4aac3d544eb8a102c530b3b45fba">evhtp_set_cb</a>(v1, <span class="stringliteral">&quot;/host1&quot;</span>, NULL, <span class="stringliteral">&quot;host1.com&quot;</span>);</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <a class="code" href="evhtp_8c.html#ad5bb4aac3d544eb8a102c530b3b45fba">evhtp_set_cb</a>(v2, <span class="stringliteral">&quot;/localhost&quot;</span>, <a class="code" href="test__vhost_8c.html#a8bbdb0dcfef7e89742613ed5f426309c">testcb</a>, <span class="stringliteral">&quot;localhost&quot;</span>);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <a class="code" href="evhtp_8c.html#a5662d4aa968e080bf1ee8b07d876829e">evhtp_add_vhost</a>(evhtp, <span class="stringliteral">&quot;host1.com&quot;</span>, v1);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="evhtp_8c.html#a5662d4aa968e080bf1ee8b07d876829e">evhtp_add_vhost</a>(evhtp, <span class="stringliteral">&quot;localhost&quot;</span>, v2);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="evhtp_8c.html#af08f82623bd2ad6ad80db3138b8ca58f">evhtp_add_alias</a>(v2, <span class="stringliteral">&quot;127.0.0.1&quot;</span>);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="evhtp_8c.html#af08f82623bd2ad6ad80db3138b8ca58f">evhtp_add_alias</a>(v2, <span class="stringliteral">&quot;localhost&quot;</span>);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="evhtp_8c.html#af08f82623bd2ad6ad80db3138b8ca58f">evhtp_add_alias</a>(v2, <span class="stringliteral">&quot;localhost:8081&quot;</span>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    scfg1.pemfile  = <span class="stringliteral">&quot;./server.pem&quot;</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    scfg1.privfile = <span class="stringliteral">&quot;./server.pem&quot;</span>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    scfg2.pemfile  = <span class="stringliteral">&quot;./server1.pem&quot;</span>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    scfg2.pemfile  = <span class="stringliteral">&quot;./server1.pem&quot;</span>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="evhtp_8c.html#afc778451d835c5a7e5929502d8413741">evhtp_ssl_init</a>(evhtp, &amp;scfg1);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="evhtp_8c.html#afc778451d835c5a7e5929502d8413741">evhtp_ssl_init</a>(v1, &amp;scfg2);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="evhtp_8c.html#afc778451d835c5a7e5929502d8413741">evhtp_ssl_init</a>(v2, &amp;scfg2);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="evhtp_8c.html#a25b40b813f8a36cc383915b6ed3ec0ce">evhtp_bind_socket</a>(evhtp, <span class="stringliteral">&quot;0.0.0.0&quot;</span>, 8081, 1024);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    event_base_loop(evbase, 0);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="evhtp_8c.html#ac4b2942f737cbd702277aa19f2d6538a">evhtp_unbind_socket</a>(evhtp);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="evhtp_8c.html#a113ba6cd8ed817ac5e1988e8147c9358">evhtp_free</a>(v2);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="evhtp_8c.html#a113ba6cd8ed817ac5e1988e8147c9358">evhtp_free</a>(v1);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="evhtp_8c.html#a113ba6cd8ed817ac5e1988e8147c9358">evhtp_free</a>(evhtp);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    event_base_free(evbase);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
<div class="ttc" id="evhtp_8c_html_a25b40b813f8a36cc383915b6ed3ec0ce"><div class="ttname"><a href="evhtp_8c.html#a25b40b813f8a36cc383915b6ed3ec0ce">evhtp_bind_socket</a></div><div class="ttdeci">int evhtp_bind_socket(evhtp_t *htp, const char *baddr, uint16_t port, int backlog)</div><div class="ttdoc">bind to a socket, optionally with specific protocol support formatting. The addr can be defined as on...</div><div class="ttdef"><b>Definition:</b> evhtp.c:3274</div></div>
<div class="ttc" id="evhtp_8c_html_a5662d4aa968e080bf1ee8b07d876829e"><div class="ttname"><a href="evhtp_8c.html#a5662d4aa968e080bf1ee8b07d876829e">evhtp_add_vhost</a></div><div class="ttdeci">int evhtp_add_vhost(evhtp_t *evhtp, const char *name, evhtp_t *vhost)</div><div class="ttdoc">add a virtual host. </div><div class="ttdef"><b>Definition:</b> evhtp.c:4177</div></div>
<div class="ttc" id="evthr_8h_html_ac1a9bb265b995e58237889446894e944"><div class="ttname"><a href="evthr_8h.html#ac1a9bb265b995e58237889446894e944">evbase_t</a></div><div class="ttdeci">struct event_base evbase_t</div><div class="ttdef"><b>Definition:</b> evthr.h:23</div></div>
<div class="ttc" id="evhtp_8c_html_afc778451d835c5a7e5929502d8413741"><div class="ttname"><a href="evhtp_8c.html#afc778451d835c5a7e5929502d8413741">evhtp_ssl_init</a></div><div class="ttdeci">int evhtp_ssl_init(evhtp_t *htp, evhtp_ssl_cfg_t *cfg)</div><div class="ttdef"><b>Definition:</b> evhtp.c:3818</div></div>
<div class="ttc" id="evhtp_8c_html_ac4b2942f737cbd702277aa19f2d6538a"><div class="ttname"><a href="evhtp_8c.html#ac4b2942f737cbd702277aa19f2d6538a">evhtp_unbind_socket</a></div><div class="ttdeci">void evhtp_unbind_socket(evhtp_t *htp)</div><div class="ttdoc">stops the listening socket. </div><div class="ttdef"><b>Definition:</b> evhtp.c:3186</div></div>
<div class="ttc" id="evhtp_8c_html_a113ba6cd8ed817ac5e1988e8147c9358"><div class="ttname"><a href="evhtp_8c.html#a113ba6cd8ed817ac5e1988e8147c9358">evhtp_free</a></div><div class="ttdeci">void evhtp_free(evhtp_t *evhtp)</div><div class="ttdef"><b>Definition:</b> evhtp.c:4237</div></div>
<div class="ttc" id="test__vhost_8c_html_a8bbdb0dcfef7e89742613ed5f426309c"><div class="ttname"><a href="test__vhost_8c.html#a8bbdb0dcfef7e89742613ed5f426309c">testcb</a></div><div class="ttdeci">void testcb(evhtp_request_t *req, void *a)</div><div class="ttdef"><b>Definition:</b> test_vhost.c:9</div></div>
<div class="ttc" id="evhtp_8c_html_ad5bb4aac3d544eb8a102c530b3b45fba"><div class="ttname"><a href="evhtp_8c.html#ad5bb4aac3d544eb8a102c530b3b45fba">evhtp_set_cb</a></div><div class="ttdeci">evhtp_callback_t * evhtp_set_cb(evhtp_t *htp, const char *path, evhtp_callback_cb cb, void *arg)</div><div class="ttdoc">sets a callback to be executed on a specific path </div><div class="ttdef"><b>Definition:</b> evhtp.c:3576</div></div>
<div class="ttc" id="evhtp_8c_html_af08f82623bd2ad6ad80db3138b8ca58f"><div class="ttname"><a href="evhtp_8c.html#af08f82623bd2ad6ad80db3138b8ca58f">evhtp_add_alias</a></div><div class="ttdeci">int evhtp_add_alias(evhtp_t *evhtp, const char *name)</div><div class="ttdoc">Add an alias hostname for a virtual-host specific evhtp_t. This avoids having multiple evhtp_t virtua...</div><div class="ttdef"><b>Definition:</b> evhtp.c:4141</div></div>
<div class="ttc" id="evhtp_8c_html_a97bbe491064943a8d5e0d3e7a937209b"><div class="ttname"><a href="evhtp_8c.html#a97bbe491064943a8d5e0d3e7a937209b">evhtp_new</a></div><div class="ttdeci">evhtp_t * evhtp_new(evbase_t *evbase, void *arg)</div><div class="ttdoc">creates a new evhtp_t instance </div><div class="ttdef"><b>Definition:</b> evhtp.c:4212</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="test__vhost_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph.png" border="0" usemap="#test__vhost_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph" alt=""/></div>
<map name="test__vhost_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph" id="test__vhost_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph">
<area shape="rect" id="node2" href="evhtp_8c.html#af08f82623bd2ad6ad80db3138b8ca58f" title="Add an alias hostname for a virtual&#45;host specific evhtp_t. This avoids having multiple evhtp_t virtua..." alt="" coords="118,736,236,761"/>
<area shape="rect" id="node3" href="evhtp_8c.html#a5662d4aa968e080bf1ee8b07d876829e" title="add a virtual host. " alt="" coords="116,785,239,811"/>
<area shape="rect" id="node4" href="evhtp_8c.html#a25b40b813f8a36cc383915b6ed3ec0ce" title="bind to a socket, optionally with specific protocol support formatting. The addr can be defined as on..." alt="" coords="111,835,244,860"/>
<area shape="rect" id="node45" href="evhtp_8c.html#a113ba6cd8ed817ac5e1988e8147c9358" title="evhtp_free" alt="" coords="135,1156,219,1181"/>
<area shape="rect" id="node52" href="evhtp_8c.html#a97bbe491064943a8d5e0d3e7a937209b" title="creates a new evhtp_t instance " alt="" coords="134,884,220,909"/>
<area shape="rect" id="node73" href="evhtp_8c.html#ad5bb4aac3d544eb8a102c530b3b45fba" title="sets a callback to be executed on a specific path " alt="" coords="127,1015,228,1040"/>
<area shape="rect" id="node77" href="evhtp_8c.html#afc778451d835c5a7e5929502d8413741" title="evhtp_ssl_init" alt="" coords="126,1280,228,1305"/>
<area shape="rect" id="node81" href="evhtp_8c.html#ac4b2942f737cbd702277aa19f2d6538a" title="stops the listening socket. " alt="" coords="104,1329,251,1355"/>
<area shape="rect" id="node82" href="test__vhost_8c.html#a8bbdb0dcfef7e89742613ed5f426309c" title="testcb" alt="" coords="149,933,206,959"/>
<area shape="rect" id="node5" href="evhtp_8c.html#a49e7d9a4b613ac689aeffbc6fcd8fbbe" title="bind to an already allocated sockaddr. " alt="" coords="327,717,475,743"/>
<area shape="rect" id="node6" href="evhtp_8c.html#a6f94e792158ac45a66b14ac4b1791215" title="create the listener plus setup various options with an already&#45;bound socket. " alt="" coords="551,688,698,713"/>
<area shape="rect" id="node7" href="evhtp_8c.html#a01058d2a190e93744fcd8b38d3eec6c5" title="_evhtp_accept_cb" alt="" coords="783,244,913,269"/>
<area shape="rect" id="node41" href="evhtp_8c.html#a39edfccc12d96740f98f808a6e180eb7" title="_evhtp_ssl_servername" alt="" coords="766,688,929,713"/>
<area shape="rect" id="node8" href="evhtp_8c.html#a87cc91fb2145c9e78765bfcf6e9ab89e" title="_evhtp_connection_accept" alt="" coords="1234,244,1414,269"/>
<area shape="rect" id="node13" href="evhtp_8c.html#ad8e05f912c12705d93c0a1aec125544a" title="free&#39;s all connection related resources, this will also call your request fini hook and request fini ..." alt="" coords="2222,343,2378,368"/>
<area shape="rect" id="node34" href="evhtp_8c.html#a236b25db880260ea7ade4dbaa3ff8c05" title="_evhtp_connection_new" alt="" coords="1714,527,1879,552"/>
<area shape="rect" id="node36" href="evhtp_8c.html#aa66c50a9faa2ae92643cae6d3aa8298e" title="_evhtp_run_in_thread" alt="" coords="1016,168,1167,193"/>
<area shape="rect" id="node37" href="evhtp_8c.html#aff54db2288eb11a543e3a41398bce612" title="_evhtp_run_post_accept" alt="" coords="1240,55,1407,80"/>
<area shape="rect" id="node39" href="evthr_8c.html#ac097120e7644833b8b86891525464414" title="evthr_pool_defer" alt="" coords="1031,24,1152,49"/>
<area shape="rect" id="node9" href="evhtp_8c.html#ac1b32dde3c8e0e4ecf7d2350dda47be7" title="_evhtp_connection_eventcb" alt="" coords="1462,193,1649,219"/>
<area shape="rect" id="node12" href="evhtp_8c.html#ae4c1691af1bf2b75cec8d8dce75b0dcb" title="_evhtp_connection_readcb" alt="" coords="1956,148,2138,173"/>
<area shape="rect" id="node27" href="evhtp_8c.html#a342f7eb5f4aade7153b003c18ba0c865" title="_evhtp_connection_writecb" alt="" coords="1705,405,1888,431"/>
<area shape="rect" id="node31" href="evhtp_8c.html#ab451e48a9a9e498641bd754a96c17776" title="_evhtp_connection_resumecb" alt="" coords="1697,300,1896,325"/>
<area shape="rect" id="node32" href="evhtp_8c.html#a587a3e810f454348eefee92b969cb4f5" title="_evhtp_run_pre_accept" alt="" coords="1475,295,1636,320"/>
<area shape="rect" id="node33" href="evhtp_8c.html#a1b44fa89d6169ee0877f7ec9032dd765" title="sets a connection&#45;specific read/write timeout which overrides the global read/write settings..." alt="" coords="1480,344,1631,383"/>
<area shape="rect" id="node10" href="evhtp_8c.html#a08ef8f373dcbe288a099fea5199eb284" title="runs the user&#45;defined hook when a connection error occurs " alt="" coords="2198,76,2403,101"/>
<area shape="rect" id="node11" href="evhtp_8c.html#a90e79ac28720a5a188d8d32a8bc7e609" title="runs the user&#45;defined hook when a connection error occurs " alt="" coords="2481,76,2614,101"/>
<area shape="rect" id="node20" href="evhtp_8c.html#ac62f0e64aca4fca3648b67042a6c3646" title="resumes a connection (enables reading) and activates resume event. " alt="" coords="2211,224,2389,249"/>
<area shape="rect" id="node21" href="evhtp_8c.html#ab35aec3adb697918e24b8ff966afe235" title="Wrapper around evhtp_connection_pause. " alt="" coords="2225,273,2375,299"/>
<area shape="rect" id="node23" href="htparse_8c.html#a0da49907226999ce1439190bf7fd59c4" title="htparser_get_error" alt="" coords="2234,125,2366,151"/>
<area shape="rect" id="node24" href="htparse_8c.html#a21ab699be5ec818c1118f1c6f4d7b757" title="htparser_run" alt="" coords="2252,175,2349,200"/>
<area shape="rect" id="node14" href="evhtp_8c.html#ae405ab595637e4078a9a01821d3df580" title="runs the user&#45;definedhook called just prior to a connection being closed " alt="" coords="2451,343,2645,368"/>
<area shape="rect" id="node15" href="evhtp_8c.html#ac1b09ba3d872e8a0b93a60805996dae7" title="frees all data in an evhtp_request_t along with calling finished hooks " alt="" coords="2476,412,2620,437"/>
<area shape="rect" id="node16" href="evhtp_8c.html#ab82576a33f5888bec124961eaa86a9c0" title="runs the user&#45;defined hook called just prior to a request been free()&#39;d " alt="" coords="2693,387,2867,412"/>
<area shape="rect" id="node17" href="evhtp_8c.html#a4b730b06fe6a0093afb2f4f391e5455e" title="frees an overlay URI structure " alt="" coords="2723,436,2837,461"/>
<area shape="rect" id="node18" href="evhtp_8c.html#a2dfd994fb181a6efaf2c87716b05cd50" title="frees an authority structure " alt="" coords="2915,411,3065,436"/>
<area shape="rect" id="node19" href="evhtp_8c.html#a9ab2a6de89fce03b9543bdafa6f22db5" title="_evhtp_path_free" alt="" coords="2927,460,3053,485"/>
<area shape="rect" id="node22" href="evhtp_8c.html#a411f8bd2a68359f2bfb457961f94db97" title="pauses a connection (disables reading) " alt="" coords="2463,273,2633,299"/>
<area shape="rect" id="node25" href="htparse_8c.html#a2f924cee0d1ff942fd92d781879df83c" title="get_method" alt="" coords="2502,149,2594,175"/>
<area shape="rect" id="node26" href="htparse_8c.html#aa905ee8d3cead3af162d637a3a33c397" title="is_host_char" alt="" coords="2499,199,2596,224"/>
<area shape="rect" id="node28" href="evhtp_8c.html#a0fbb88d736802c86bd265560ec15ef18" title="_evhtp_connection_write_hook" alt="" coords="1944,351,2150,376"/>
<area shape="rect" id="node29" href="htparse_8c.html#a7b3e7f5cfd9e769f829bc8d51a200be2" title="htparser_init" alt="" coords="2000,503,2094,528"/>
<area shape="rect" id="node30" href="htparse_8c.html#af22e3761f1ccd029b26c0bcecf8af2f8" title="htparser_set_userdata" alt="" coords="1970,552,2124,577"/>
<area shape="rect" id="node35" href="htparse_8c.html#af88fadfbaf9eaa8081e3495c6cdcdcdb" title="htparser_new" alt="" coords="1996,601,2098,627"/>
<area shape="rect" id="node38" href="evthr_8c.html#a46dff6afc6d6722688fd09c74add2ddd" title="evthr_get_base" alt="" coords="1267,168,1380,193"/>
<area shape="rect" id="node40" href="evthr_8c.html#a3f09961614cd3efb20100bc540adc78e" title="evthr_defer" alt="" coords="1279,5,1368,31"/>
<area shape="rect" id="node42" href="evhtp_8c.html#aff58378efaf8e86c36ae46c09cb9f67f" title="_evhtp_request_find\l_vhost" alt="" coords="1021,703,1163,741"/>
<area shape="rect" id="node43" href="evhtp_8c.html#af5dee122ed5d734715a41e6b7464904c" title="glob/wildcard type pattern matching. " alt="" coords="1255,709,1393,735"/>
<area shape="rect" id="node44" href="evhtp_8c.html#af5cdf9c1d6a11ccdb2e2abb498d7195f" title="_evhtp_glob_match2" alt="" coords="1483,709,1628,735"/>
<area shape="rect" id="node46" href="evhtp_8c.html#a4f5f66e5e371d0d34cc439b96b3a4862" title="evhtp_callbacks_free" alt="" coords="328,1132,474,1157"/>
<area shape="rect" id="node48" href="evthr_8c.html#a4ef64d9c2456f217908abf0166d0a8a5" title="evthr_pool_free" alt="" coords="344,1181,458,1207"/>
<area shape="rect" id="node50" href="evthr_8c.html#afcb0f7fd6293a1051167157eeddf47d7" title="evthr_pool_stop" alt="" coords="343,1231,459,1256"/>
<area shape="rect" id="node47" href="evhtp_8c.html#aa18103f43b36858a97e1eef80b0e4044" title="frees information associated with a ainflwx callback. " alt="" coords="555,1107,695,1132"/>
<area shape="rect" id="node49" href="evthr_8c.html#a975c0504858edc68ca316a3efc9dde88" title="evthr_free" alt="" coords="584,1181,665,1207"/>
<area shape="rect" id="node51" href="evthr_8c.html#a3e59f1e4310133cd27bceeee9398854a" title="evthr_stop" alt="" coords="583,1231,666,1256"/>
<area shape="rect" id="node53" href="evhtp_8c.html#a4f47eea3160e177e5fb74f0ded7c4b73" title="_evhtp_default_request_cb" alt="" coords="310,867,492,892"/>
<area shape="rect" id="node72" href="evhtp_8c.html#a39a5c7910a382f902c896b25854b742d" title="sets a callback which is called if no other callbacks are matched " alt="" coords="340,817,463,843"/>
<area shape="rect" id="node54" href="evhtp_8h.html#a503b047c0137763e0adaf635b7c664a8" title="creates a new evhtp_header_t key/val structure " alt="" coords="1024,817,1159,843"/>
<area shape="rect" id="node55" href="evhtp_8h.html#a45e5dd8e1166577254d6da73f4cf9fd1" title="adds an evhtp_header_t to the end of the evhtp_headers_t tailq " alt="" coords="998,867,1186,892"/>
<area shape="rect" id="node56" href="evhtp_8c.html#a207355af4b2d3e5211c4df0bbb8d195d" title="generates all the right information for a reply to be sent to the client " alt="" coords="561,949,688,975"/>
<area shape="rect" id="node57" href="evhtp_8c.html#a0fd9982ade86ed23ee41eadb33b0e3c1" title="_evhtp_create_reply" alt="" coords="777,1017,919,1043"/>
<area shape="rect" id="node70" href="evhtp_8c.html#af0e521e1beb5c171441af8c7170d83b9" title="returns the underlying connections bufferevent " alt="" coords="757,1116,938,1141"/>
<area shape="rect" id="node71" href="evhtp_8c.html#ad90238a469b4289cf16c2aacc4763d4c" title="returns the underlying evhtp_connection_t structure from a request " alt="" coords="746,1067,950,1092"/>
<area shape="rect" id="node58" href="evhtp_8c.html#a25a957881c47ce6d3e8b6119d664e9b7" title="_evhtp_create_headers" alt="" coords="1011,1313,1172,1339"/>
<area shape="rect" id="node59" href="evhtp_8h.html#a8b553a92dea8df3d2a0eb987a8b2cd39" title="finds the value of a key in a evhtp_headers_t structure " alt="" coords="1026,1363,1158,1388"/>
<area shape="rect" id="node60" href="evhtp__numtoa_8c.html#aef81286f525f97a5f761964f50599a63" title="based on the system architecture, convert a size_t number to a string. " alt="" coords="1020,968,1164,993"/>
<area shape="rect" id="node61" href="evhtp__numtoa_8c.html#a8cc234df8a9409d796e9fa426273c218" title="converts uint32_t value to string " alt="" coords="1252,919,1395,944"/>
<area shape="rect" id="node64" href="htparse_8c.html#ab34fb33769128cc477a6f9a5c0e2bc63" title="htparser_get_major" alt="" coords="1023,1067,1160,1092"/>
<area shape="rect" id="node65" href="htparse_8c.html#a70e8640f33ccec623fa8e1bdae8c693d" title="htparser_get_minor" alt="" coords="1023,1116,1160,1141"/>
<area shape="rect" id="node66" href="htparse_8c.html#ad931068e981eb54e6fc99ad7c62f104a" title="htparser_get_multipart" alt="" coords="1014,1165,1169,1191"/>
<area shape="rect" id="node67" href="htparse_8c.html#a40511e662043f9255ec3ef7376966c31" title="htparser_set_major" alt="" coords="1024,1215,1160,1240"/>
<area shape="rect" id="node68" href="htparse_8c.html#ab2ee1f6fd7456337e2e483bab9973413" title="htparser_set_minor" alt="" coords="1024,1264,1160,1289"/>
<area shape="rect" id="node69" href="evhtp_8c.html#ad41c784fc766dd3497fe564a88d7cb1f" title="status_code_to_str" alt="" coords="1025,1017,1159,1043"/>
<area shape="rect" id="node63" href="evhtp__numtoa_8c.html#a1dae3968a0cdd6586c0ebacf415e929e" title="convert uint64_t value to a string " alt="" coords="1252,968,1395,993"/>
<area shape="rect" id="node62" href="evhtp__numtoa_8c.html#ac884408acf9fb0963fcfcb572bb96fa4" title="strreverse" alt="" coords="1515,943,1596,968"/>
<area shape="rect" id="node74" href="evhtp_8c.html#a8d96790f46d2c063c5a2dd09ca0573a5" title="creates a new evhtp_callback_t structure. " alt="" coords="330,1031,472,1056"/>
<area shape="rect" id="node76" href="evhtp_8c.html#a36a4df86347439381efba472dbdd72e2" title="Adds a evhtp_callback_t to the evhtp_callbacks_t list. " alt="" coords="328,968,474,1007"/>
<area shape="rect" id="node75" href="evhtp_8c.html#acc338650342f065a4c64b40a9fed90be" title="a weak hash function " alt="" coords="557,1031,693,1056"/>
<area shape="rect" id="node78" href="evhtp_8c.html#a7b3d073d6a31eb4e51feb0340d04f477" title="_evhtp_ssl_add_scache_ent" alt="" coords="306,1329,496,1355"/>
<area shape="rect" id="node79" href="evhtp_8c.html#aa73fc84760a220fe99eaa8d01bd9858c" title="_evhtp_ssl_delete_scache_ent" alt="" coords="299,1379,503,1404"/>
<area shape="rect" id="node80" href="evhtp_8c.html#aa2e2b017a83e75d46ca4fe41cbce5a10" title="_evhtp_ssl_get_scache_ent" alt="" coords="308,1280,494,1305"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d28a4824dc47e487b107a5db32ef43c4.html">examples</a></li><li class="navelem"><a class="el" href="test__vhost_8c.html">test_vhost.c</a></li>
    <li class="footer">Generated on Fri Nov 27 2015 18:37:35 for Libevhtp by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
